{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://www.krakend.io/schema/endpoint_extra_config.json",
    "title": "Schema definition for extra_config of endpoints",
    "type": "object",
    "additionalProperties": false,
    "patternProperties": {
        "^[@$_#]": {}
    },
    "properties": {
        "plugin/req-resp-modifier": {
            "$ref": "plugin/req-resp-modifier.json"
        },
        "qos/ratelimit/router": {
            "$ref": "qos/ratelimit/router.json"
        },
        "proxy": {
            "$id": "#endpoint_extra_config/proxy",
            "title": "Proxy",
            "type": "object",
            "properties": {
                "combiner": {
                    "$id": "#endpoint_extra_config/proxy/combiner",
                    "title": "Custom combiner",
                    "description": "For custom builds of KrakenD only",
                    "type": "string",
                    "examples": [
                        "combiner_name"
                    ]
                },
                "sequential": {
                    "$id": "#endpoint_extra_config/proxy/sequential",
                    "title": "Sequential proxy",
                    "description": "The sequential proxy allows you to chain backend requests, making calls dependent one of each other.\n\nSee: https://www.krakend.io/docs/endpoints/sequential-proxy/",
                    "type": "boolean",
                    "default": true
                },
                "static": {
                    "$id": "#endpoint_extra_config/proxy/static",
                    "title": "Static response",
                    "description": "The static proxy injects static data in the final response when the selected strategy matches.\n\nSee: https://www.krakend.io/docs/endpoints/static-proxy/",
                    "type": "object",
                    "required": [
                        "data",
                        "strategy"
                    ],
                    "additionalProperties": false,
                    "patternProperties": {
                        "^[@$_#]": {}
                    },
                    "properties": {
                        "data": {
                            "$id": "#endpoint_extra_config/proxy/static/data",
                            "title": "Data",
                            "description": "The static data (as a JSON object) that you will return.\n\nSee: https://www.krakend.io/docs/endpoints/static-proxy/",
                            "type": "object"
                        },
                        "strategy": {
                            "$id": "#endpoint_extra_config/proxy/static/strategy",
                            "title": "Strategy",
                            "description": "One of the supported strategies\n\nSee: https://www.krakend.io/docs/endpoints/static-proxy/",
                            "type": "string",
                            "enum": [
                                "always",
                                "success",
                                "complete",
                                "errored",
                                "incomplete"
                            ]
                        }
                    }
                }
            }
        },
        "security/http": {
            "$ref": "security/http.json"
        },
        "security/cors": {
            "$ref": "security/cors.json"
        },
        "auth/validator": {
            "$ref": "auth/validator.json"
        },
        "auth/signer": {
            "$ref": "auth/signer.json"
        },
        "security/bot-detector": {
            "$ref": "security/bot-detector.json"
        },
        "modifier/lua-proxy": {
            "$ref": "modifier/lua.json"
        },
        "modifier/lua-endpoint": {
            "$ref": "modifier/lua.json"
        },
        "modifier/jmespath": {
            "$ref": "modifier/jmespath.json"
        },
        "validation/json-schema": {
            "title": "Validating the body with the JSON Schema",
            "description": "apply automatic validations using the JSON Schema vocabulary before the content passes to the backends. The json schema component allows you to define validation rules on the body, type definition, or even validate the fields' values.\n\nSee: https://www.krakend.io/docs/endpoints/json-schema/",
            "type": "object"
        },
        "validation/cel": {
            "$ref": "validation/cel.json"
        },
        "websocket": {
            "$ref": "websocket.json"
        },
        "documentation/openapi": {
            "$ref": "documentation/openapi.json"
        },
        "auth/api-keys": {
            "type": "object",
            "title": "API-key validation",
            "description": "Enterprise only. Validates that users of this endpoint pass a valid API-key containing one of the declared roles.\n\nSee: https://www.krakend.io/docs/enterprise/authentication/api-keys/",
            "additionalProperties": false,
            "patternProperties": {
                "^[@$_#]": {}
            },
            "properties": {
                "roles": {
                    "type": "array"
                }
            }
        }
    }
}