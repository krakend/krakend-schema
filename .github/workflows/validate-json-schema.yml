on: [push]
name: Validate JSON Schema
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: intelligence-ai/jsonschema@v1.0.0
      - name: Ensure JSON Schemas are formatted
        run: jsonschema fmt --ignore test --check --verbose
      - name: Lint JSON Schemas
        run: jsonschema lint --ignore test --verbose
      - name: Ensure JSON Schemas are valid with respect to their metaschemas
        run: jsonschema metaschema --ignore test --verbose
      - name: Run JSON Schema unit tests
        run: jsonschema test ./test/v2.6 --resolve v2.6
